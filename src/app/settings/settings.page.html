<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ ( activeProject$ | async )?.name }} settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Project Info</ion-card-title>
    </ion-card-header>
      <ion-list>
        <ion-item lines="none">
          <ion-label>
            <h2>Project Name:</h2>
            <p>{{ ( activeProject$ | async )?.name }}</p>
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-label>
            <h2>Project Client ID:</h2>
            <p>{{ ( activeProject$ | async )?.id }} <sl-copy-button value="{{ ( activeProject$ | async )?.id }}"></sl-copy-button></p>
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-label>
            <h2>Project Client Secret:</h2>
            <p>{{ ( activeProject$ | async )?.secret }} <sl-copy-button value="{{ ( activeProject$ | async )?.secret }}"></sl-copy-button></p>
          </ion-label>
        </ion-item>
      </ion-list>

  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Project Keys</ion-card-title>
    </ion-card-header>
    <ion-card-content>

      <ion-list>
        <ion-item *ngFor="let key of activeProjectKeys$ | async">
          <ion-label>
            <h2>{{ key.name }}</h2>

            <sl-details summary="Show Code">
              <p>You can put the code below before <code>&lt;/head&gt;</code> tag in your website:</p>
              <pre><code class="language-html">&lt;script type="module" data-driplane-token="{{ key.key }}" src="https://cdn.jsdelivr.net/npm/&#64;driplane/web&#64;beta/dist/driplane.js"&gt;&lt;/script&gt;</code></pre>
              <sl-copy-button value='&lt;script type="module" data-driplane-token="{{ key.key }}" src="https://cdn.jsdelivr.net/npm/&#64;driplane/web&#64;beta/dist/driplane.js"&gt;&lt;/script&gt;'></sl-copy-button>
            </sl-details>

          </ion-label>
        </ion-item>
      </ion-list>


      <sl-details summary="Add New Key">
        <ion-item>
          <ion-input label="Key Name" labelPlacement="stacked" type="text"></ion-input>
        </ion-item>

        <ion-button expand="block" (click)="addProjectKey()">Add Key</ion-button>
      </sl-details>



    </ion-card-content>
  </ion-card>

</ion-content>
